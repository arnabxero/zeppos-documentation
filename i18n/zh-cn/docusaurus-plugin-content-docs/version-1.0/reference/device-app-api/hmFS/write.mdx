---
title: hmFS.write(fileId, buffer, position, length)
sidebar_label: write
---

> Zepp OS 小程序文件系统介绍请参考 [文件系统](../../../guides/framework/device/fs.md)。

写文件，将 `buffer` 写入文件。

## 类型

```ts
(fileId: number, buffer: ArrayBuffer, position: number, length: number) => result
```

## 参数

| 参数     | 说明                       | 必填 | 类型          | 默认值 |
| -------- | -------------------------- | ---- | ------------- | ------ |
| fileId   | 文件句柄                   | 是   | `number`      | -      |
| buffer     | 将填充写入文件数据的缓冲区 | 是   | `ArrayBuffer` | -      |
| position | 基于 `buffer` 首地址的偏移   | 是   | `number`      | -      |
| length   | 写入的字节数               | 是   | `number`      | -      |

### result

| 参数   | 说明                   | 类型     |
| ------ | ---------------------- | -------- |
| result | 操作结果，`0` 表示成功 | `number` |

其余错误码请参考 [文件系统 - 错误代码](../../../guides/framework/device/fs.md#错误代码)。

## 代码示例

```js
Page({
  build() {
    const test_buf = new Uint8Array(10)
    const test_buf2 = new Uint8Array(test_buf.length)

    const file = hmFS.open('test_file.txt', hmFS.O_RDWR | hmFS.O_CREAT)
    hmFS.write(file, test_buf.buffer, 0, test_buf.length)
  }
})
```
